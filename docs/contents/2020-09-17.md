# async && await 的深入联系

## 问题

### 第一题

```js
async function t1(){
  let a = await 'a';
  console.log(a)
};
t1();
```

### 第二题

```js
async function t2(){
  let a = await new Promise((resolve)=>{});
  console.log(a);
}
t2();
```

### 第三题

```js
async function t3(){
  let a = await new Promise((resolve)=>{
    resolve();
  });
  console.log(a)
}
t3();
```

### 第四题

```js
async function t4(){
  let a = await new Promise((resolve)=>{
    resolve('hello');
  });
  console.log(a)
}
t4();
```

### 第五题

```js
async function t5(){
  let a = await new Promise((resolve)=>{
    resolve('hello');
  }).then(()=>{
    return 'la'
  });
  console.log(a)
}
t5();
```

### 第六题

```js
async function t6(){
  let a = await fn().then((res)=>{
    return res
  });
  console.log(a)
}
async function fn(){
  await new Promise((resolve)=>{
    resolve('la')
  })
}
t6();
```

### 第七题

```js
async function t7(){
  let a = await fn().then((res)=>{
    return res
  });
  console.log(a)
}
async function fn(){
  await new Promise((resolve)=>{
    resolve('la')
  });
  return 'zzz'
}
t7();
```

## 答案

a -> Promise -> undefined -> hello -> la -> undefind -> zzz

## 解析
- async函数执行的返回结果是一个promise对象,这个函数的返回值是这个promise状态值resolve的值

- await后面如果不是一个promise对象,将直接返回这个值

- await后面如果是一个promise对象.将会把这个promise的状态resolve返回出去

> 以上没有考虑reject状态

>> 第六题想不明白,整理完promise后再看看!