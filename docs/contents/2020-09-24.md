# JS 异步解决方案的发展历程以及优缺点

## 回调函数

### 缺点

回调地狱,不能用try catch 捕获错误,不能return; <br/>
回调地狱的根本问题在于
- 缺乏顺序性:回调地狱导致的调试困难,和大脑思维方式不服
- 嵌套函数存在耦合性,一旦有所改动,就会牵一发而动全身,(即控制反转)
- 嵌套函数过多的话,很难处理错误

### 优点

解决了同步的问题(只要有一个任务耗时很长,后面的任务都必须排队等着,会拖延整个程序的执行)

## Promise 

Promise 就是为了解决 callback 的问题而产生的 <br/>
Promise 实现了链式调用,也就是说每次then后返回的都是一个全新的 Promise , 如果我们在 then 中 return, return 的结果会被Promise.resolve()包装

### 优点

解决了回调地狱的问题

### 缺点

无法取消Promise,错误需要通过回调函数来捕获

## Generator

特点: 可以控制函数的执行,可以配合co函数库使用

## async/await

async,await 是异步的终极解决方案

### 优点

代码清晰,不用想Promise写一大堆 then 链,处理了回调地狱的问题

### 缺点

await 将异步代码改造为同步代码,如果多个异步操作没有依赖性而使用 await 会导致性能上的降低